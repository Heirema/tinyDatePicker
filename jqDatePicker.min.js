/*! tinyDatePicker - v0.9.0 2016-07-14 */

!function(a,b){"object"==typeof exports?module.exports=b(a):"function"==typeof define&&define.amd?define("calendar",[],function(){return b(a)}):a.Calendar=b(a)}(this,function(a,b){"use strict";function c(a,b){var c=a.at||a.start;return a._start=c?e(c):-1e15,a._end=a.at?a._start:a.end?e(a.end,!0):1e15,a._id=b,a}function d(a){return a.replace(/(:?^\s+|\s+$)/g,"").replace(/(?:\s\s+)/g," ")}function e(a,b){var c=a.split(" "),d=c[0].split("-"),e=(c[1]||"").split(":");return b=b?59:0,new Date(d[0],d[1]-1,d[2]||1,e[0]||(b?23:0),e[1]||b,e[2]||b).valueOf()}function f(a){var b,c=new Date(a.getDate&&a.valueOf()||a),d=(a.getDay()+6)%7;return c.setDate(c.getDate()-d+3),b=c.valueOf(),c.setMonth(0,1),4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),1+Math.ceil((b-c)/6048e5)}function g(a,b,c){var e=(e=a.getDay()-!c.options.sundayBased)<0?7+e:e,g=c.options,i=g.equalHight?6:Math.ceil((e+new Date(a.getFullYear(),a.getMonth()+1,0).getDate())/7),j=g.template,k=g.renderWeekNo,l=h.toDateString(),m=[],n=[],o=!1,p=!1,q=0,r=a,s=r.getMonth(),t=r.getFullYear(),u=0,v=0,w=!1,x=[],y=g.events,z=null,A=[];r.setDate(-e);for(var B=0;B<i;B++)if(b&&b!==B+1)r.setDate(r.getDate()+7);else{m=[];for(var C=0,D=k?8:7;C<D;C++){if(r.setDate(r.getDate()+1),o=k&&0===C,!o&&(q=r.getDate(),z=r.getMonth(),w=r.toDateString()===l,p=z<s&&!(0===z&&11===s)||11===z&&0===s,y)){x=[],u=r.valueOf(),v=u+86399e3,A=[];for(var E=0,F=y.length;E<F;E++)(y[E]._start<=u&&y[E]._end>=v||y[E]._start>=u&&y[E]._end<=v)&&(x.push(y[E]),A.push(y[E].className||""))}m.push(j[o?"weekNo":"row"].replace(/class="(.*?)"/,function(a,b){return'class="'+d(b+" "+(o?g.weekNoClass:(z===s?g.currentMonthClass:p?g.prevMonthClass:g.nextMonthClass)+" "+(A.join(" ").replace(/\b(\w+)\s+\1\b/g,"$1")||"")+" "+(w?g.todayClass:"")+" "+(g.workingDays.indexOf(r.getDay())===-1?g.weekEndClass:"")))+'"'}).replace(/{{day}}/g,o?f(r):q).replace(/{{day-event}}/g,q&&j.day.call(c,q,r,x)||q).replace(/{{month}}/g,z+1).replace(/{{year}}/g,r.getFullYear()).replace(/{{today}}/g,w&&j.today.call(c,q,r)||"").replace(/{{event}}/g,x.length&&j.event.call(c,q,r,x)||"")),o&&r.setDate(r.getDate()-1)}n.push(m.join(""))}return j.start.call(c,s+1,t,b)+n.join(j.colGlue)+j.end.call(c,s+1,t,b)}var h=new Date,i=function(){return""},j=function(a){this.options={sundayBased:!0,renderWeekNo:!1,equalHight:!1,useCache:!0,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekDays:["Su","Mo","Tu","We","Th","Fr","Sa"],workingDays:[1,2,3,4,5],events:[],template:{start:function(){return'<table class="cal-month"><tbody><tr>'},colGlue:"</tr><tr>",weekNo:'<td class="">{{day}}</td>',row:'<td class="">{{day}}</td>',end:function(){return"</tr></tbody></table>"},today:i,day:i,event:i},todayClass:"today",weekEndClass:"week-end",prevMonthClass:"previous-month",nextMonthClass:"next-month",currentMonthClass:"current-month",weekNoClass:"week-no"},k(this,a||{})},k=function(a,b){for(var d in b){var e=b[d];if("events"===d)for(var f=e.length;f--;)c(e[f],f);if("template"===d)for(var g in e)a.options[d][g]=e[g];else a.options[d]=e}a.html={}};return j.prototype.addEvent=function(a,b){this.options.events.push(c(a,b))},j.prototype.removeEvent=function(a){for(var b=this.options.events,c=b.length;c--;)b[c]._id===a&&b.splice(c,1)},j.prototype.getMonth=function(a,b,c){var d=new Date((+a),+b-1,1),e=d.getFullYear()+"-"+(d.getMonth()+1)+(c?"-"+c:""),f=this.html[e]||g(d,c,this);return this.options.useCache&&(this.html[e]=f),{html:f,date:e}},j.prototype.getWeekNumber=f,j.prototype.convertDateString=e,j}),function(a,b){"object"==typeof exports?module.exports=b(a,require("calendar")):"function"==typeof define&&define.amd?define("datePicker",["calendar"],function(c){return b(a,c)}):a.DatePicker=b(a,a.Calendar)}(this,function(a,b,c){"use strict";function d(a,d){for(var f=d.path||[],g=d.target,i=a.options,l="focus"===d.type,q=a.currentPartner,r=[],s="",t={},v="",w=!1,x=!1,y="datePicker";!d.path&&g;)f.push(g),g=g.parentNode;if([].indexOf.call(i.elements,d.target)!==-1){if(a.isOpen&&!l)return;a.calendar=a.calendar||new b(a.options),a.calendar.removeEvent(y),s=i.readValue.call(a,d.target),a.date=t=n(s||p(new Date,!0)),v=d.target.getAttribute(i.timeFormatAttribute),v=null!==v?v:i.timeFormat,!s&&v?(w=/\s+(?:A|P)M/.test(v),x=w?+t.hour>=12:c,t.second=/:SS/.test(v)?t.second:c,t.AMPM=w?x?"PM":"AM":c,t.hour=w&&x?u(12===+t.hour?12:+t.hour-12):t.hour):s||v||(t.hour=c),a.isOpen=!0,a.toggled=a.currentInput!==d.target,a.currentInput=d.target,a.currentPartner=q=h(a,d.target),a.currentDate=n(o(t)),r=[d.target.getAttribute(i.minDateAttribute)||i.minDate,d.target.getAttribute(i.maxDateAttribute)||i.maxDate,q&&q.value.split(" ")[0]],r=r[2]?m(r[2],q.hasAttribute(i.rangeStartAttribute)?r[1]:r[0]):r,a.minDate=n(r[0]),a.maxDate=n(r[1]),k(a,c,r[0],y),k(a,r[1],c,y),e(a,d.target,t),a.toggled=!1}else a.isOpen&&a.datePicker&&f.indexOf(a.datePicker)===-1&&(a.isOpen=!1,a.toggled=!0,j(a),a.calendar.removeEvent(y),a.currentInput=a.currentDate=a.date=c)}function e(a,b,c){var d,e=a.options,h=a.calendar,i=a.datePicker=a.datePicker||e.body.appendChild(document.createElement("div")),k=h.options.template,l=a.minDate,m=a.maxDate,n=+c.year<=+l.year?+l.month:1,p=+c.year>=+m.year?+m.month:12,s=+(c.year+c.month),t=s<=+(l.year+l.month),u=s>=+(m.year+m.month);t?(c.year=l.year,c.month=l.month):u&&(c.year=m.year,c.month=m.month),i.innerHTML||(k.row=k.row.replace(/<(.*?)>/,"<$1 "+e.pickerAttribute+'="{{year}}-{{month}}-{{day}}">'),i.className=e.datePickerClass,r(i,"click",function(b){f(a,b)},!1,a),r(i,"change",function(b){g(a,b)},!1,a)),i.innerHTML=c.year&&c.day?h.getMonth(c.year,c.month).html:"",d=i.querySelector("["+e.pickerAttribute+'="'+o(a.currentDate,!0).replace(/-0/g,"-")+'"]'),d&&(d.className+=" "+e.selectedDayClass),c.year&&i.insertAdjacentHTML("afterbegin",e.header.replace("{{year}}",c.year).replace("{{years}}",q(+l.year,+m.year,c.year)).replace("{{month}}",h.options.months[c.month-1]).replace("{{months}}",q(n,p,c.month,h.options.months,1)).replace("{{day}}",c.day).replace("{{next}}",e.nextLabel).replace("{{prev}}",e.prevLabel).replace("{{disable-next}}",u?' disabled=""':"").replace("{{disable-prev}}",t?' disabled=""':"")),c.hour&&e.footer&&i.insertAdjacentHTML("beforeend",e.footer.replace("{{hour}}",c.hour).replace("{{hours}}",q(0,e.doAMPM||c.AMPM?12:24,c.hour)).replace("{{minute}}"," : "+c.minute).replace("{{minutes}}",q(0,59,c.minute,null,null,e.minuteSteps)).replace("{{second}}",c.second?" : "+c.second:"").replace("{{seconds}}",c.second?q(0,59,c.second,null,null,e.secondSteps):"").replace("{{am-pm}}",c.AMPM||"").replace("{{am-pms}}",c.AMPM?q(0,1,e.AMPM.indexOf(c.AMPM),e.AMPM):"")),j(a)}function f(a,b){for(var c=a.options,f="",g=a.date,h=b.target,j=t(b.target,c.prevButtonClass),k=!j&&t(b.target,c.nextButtonClass);!j&&!k&&h!==document.body&&!(f=h.getAttribute(c.pickerAttribute));)h=h.parentNode;f&&!t(h,c.disabledClass)?(f=n(f),g.year=f.year,g.month=f.month,g.day=f.day,i(a),d(a,{})):(j||k)&&(b.stopPropagation(),g.month=+g.month+(j?-1:k?1:0),g.year=0===g.month?u(+g.year-1):13===g.month?u(+g.year+1):g.year,g.month=0===g.month?"12":13===g.month?"01":u(g.month),g.day||i(a),e(a,a.currentInput,g))}function g(a,b){for(var c=a.date,d=["year","month","hour","minute","second","AMPM"],f="";(f=d.shift())&&!t(b.target,a.options["select"+f.charAt(0).toUpperCase()+f.slice(1)+"Class"]););c[f]="AMPM"===f?a.options.AMPM[b.target.value]:u(b.target.value),!/^(?:ho|mi|se|AM)/.test(f)&&c.day||(a.currentDate[f]=c[f],i(a,o(a.currentDate))),e(a,a.currentInput,c)}function h(a,b){for(var c=a.options,d=b.getAttribute(c.rangeStartAttribute)||b.getAttribute(c.rangeEndAttribute),e=document.querySelectorAll("["+c.rangeStartAttribute+'="'+d+'"],['+c.rangeEndAttribute+'="'+d+'"],[name="'+d+'"]'),f=e.length;f--;)if(e[f]&&e[f]!==b)return e[f]}function i(a,b){a.options.renderValue.call(a,a.datePicker,a.currentInput,b||o(a.date))}function j(a){a.options.renderCallback.call(a,a.datePicker,a.currentInput,a.toggled)}function k(a,b,c,d){a.calendar.addEvent({className:a.options.disabledClass,type:a.options.disabledClass,start:b?l(a,b,1,!0):b,end:c?l(a,c,-1,!0):c},d)}function l(a,b,c,d){return b=new Date(a.calendar.convertDateString(b,d)),b.setDate(b.getDate()+c),p(b)}function m(a,b){return a<b?[a||b,b]:[b,a]}function n(a){return a=((a.indexOf("-")!==-1?"":"--- ")+a).split(/(?:\s+|T)/),a[0]=a[0].split("-"),a[1]=(a[1]||"").split(":"),{year:a[0][0],month:u(a[0][1]),day:u(a[0][2]),hour:u(a[1][0]),minute:u(a[1][1]),second:u(a[1][2]),AMPM:a[2]}}function o(a,b){return(a.year?a.year+"-"+a.month+(a.day?"-"+a.day:""):"")+(a.hour&&!b?(a.year?" ":"")+a.hour+":"+a.minute+(a.second?":"+a.second:"")+(a.AMPM?" "+a.AMPM:""):"")}function p(a,b){return a.getFullYear()+"-"+u(a.getMonth()+1)+"-"+u(a.getDate())+(b?" "+a.toTimeString().split(" ")[0]:"")}function q(a,b,c,d,e,f){for(var g=[];a<=b;a+=f||1)g.push('<option value="'+a+'"'+(+c===a?" selected":"")+">"+(d?d[a-(e||0)]:a)+"</option>");return g.join("")}function r(a,b,c,d,e){r.events=r.events||[],r.events.push({e:a,t:b,f:c,c:d,i:e||this}),a.addEventListener(b,c,d)}function s(a){for(var b={},c=(r.events||[]).length;c--;)b=r.events[c],b.i===(a||this)&&(b.e.removeEventListener(b.t,b.f,b.c),r.events.splice(c,1))}function t(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")!==-1}function u(a){return a?(+a+"").replace(/^(\d)$/,"0$1"):c}var v=function(b,c){this.options={useCache:!1,elements:[],body:document.body,pickerAttribute:"data-picker",datePickerClass:"date-picker",selectedDayClass:"selected-day",disabledClass:"disabled",initCallback:function(a){},renderCallback:function(b,c,d){var e=c.getBoundingClientRect();b.style.cssText=this.isOpen?"left:"+(a.pageXOffset+e.left)+"px;top:"+(a.pageYOffset+c.offsetHeight+e.top)+"px;":"display: none"},renderValue:function(a,b,c){b.value=c},readValue:function(a){return a.value},header:'<div class="dp-title"><button class="dp-prev" type="button"{{disable-prev}}>{{prev}}</button><button class="dp-next" type="button"{{disable-next}}>{{next}}</button><div class="dp-label dp-label-month">{{month}}<select class="dp-select dp-select-month" tabindex="-1">{{months}}</select></div><div class="dp-label dp-label-year">{{year}}<select class="dp-select dp-select-year" tabindex="-1">{{years}}</select></div></div>',nextLabel:"Next month",prevLabel:"Previous month",minDate:"1969-01-01",maxDate:"2050-12-31",minDateAttribute:"data-mindate",maxDateAttribute:"data-maxdate",nextButtonClass:"dp-next",prevButtonClass:"dp-prev",selectYearClass:"dp-select-year",selectMonthClass:"dp-select-month",footer:'<div class="dp-footer"><div class="dp-label">{{hour}}<select class="dp-select dp-select-hour" tabindex="-1">{{hours}}</select></div><div class="dp-label">{{minute}}<select class="dp-select dp-select-minute" tabindex="-1">{{minutes}}</select></div><div class="dp-label">{{second}}<select class="dp-select dp-select-second" tabindex="-1">{{seconds}}</select></div><div class="dp-label">{{am-pm}}<select class="dp-select dp-select-am-pm" tabindex="-1">{{am-pms}}</select></div></div>',timeFormat:"",timeFormatAttribute:"data-timeformat",doAMPM:!1,minuteSteps:5,secondSteps:10,AMPM:["AM","PM"],selectHourClass:"dp-select-hour",selectMinuteClass:"dp-select-minute",selectSecondClass:"dp-select-second",selectAMPMClass:"dp-select-am-pm",rangeStartAttribute:"data-from",rangeEndAttribute:"data-to"},w(this,b||[],c||{})},w=function(b,c,e){var f=function(a){d(b,a)};e.elements="string"==typeof c?document.querySelectorAll(c):c;for(var g in e)b.options[g]=e[g];r(a,"resize",function(a){b.isOpen&&j(b)},!1,b),r(document.body,"focus",f,!0,b),r(document.body,"click",f,!1,b),b.options.initCallback.call(b,e.elements)};return v.prototype.destroy=function(){s(this),this.datePicker&&this.datePicker.parentNode.removeChild(this.datePicker);for(var a in this)this[a]=null},v}),function(a,b){"object"==typeof exports?module.exports=b(a,require("jquery"),require("datePicker")):"function"==typeof define&&define.amd?define(["jquery","datePicker"],function(c,d){return b(a,c,d)}):b(a,a.jQuery,a.DatePicker)}(this,function(a,b,c,d){"use strict";b.fn.datePicker=function(a){return this.datePicker=new c(this.filter("*"),a),this}});
//# sourceMappingURL=jqDatePicker.min.js.map